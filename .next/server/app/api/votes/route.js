"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/votes/route";
exports.ids = ["app/api/votes/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_LocalCodes_Checkmate_checkers_webapp_src_app_api_votes_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/votes/route.ts */ \"(rsc)/./src/app/api/votes/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/votes/route\",\n        pathname: \"/api/votes\",\n        filename: \"route\",\n        bundlePath: \"app/api/votes/route\"\n    },\n    resolvedPagePath: \"C:\\\\LocalCodes\\\\Checkmate\\\\checkers-webapp\\\\src\\\\app\\\\api\\\\votes\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_LocalCodes_Checkmate_checkers_webapp_src_app_api_votes_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/votes/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2b3RlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdm90ZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ2b3RlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDTG9jYWxDb2RlcyU1Q0NoZWNrbWF0ZSU1Q2NoZWNrZXJzLXdlYmFwcCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q0xvY2FsQ29kZXMlNUNDaGVja21hdGUlNUNjaGVja2Vycy13ZWJhcHAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml0ZV9yZWFjdF9zaGFkY25fdHMvP2M3OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcTG9jYWxDb2Rlc1xcXFxDaGVja21hdGVcXFxcY2hlY2tlcnMtd2ViYXBwXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHZvdGVzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92b3Rlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZvdGVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS92b3Rlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXExvY2FsQ29kZXNcXFxcQ2hlY2ttYXRlXFxcXGNoZWNrZXJzLXdlYmFwcFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx2b3Rlc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdm90ZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/votes/route.ts":
/*!************************************!*\
  !*** ./src/app/api/votes/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n// src/app/api/votes/route.ts\n\n\n\nasync function GET(request) {\n    try {\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__.connectToDB)();\n        const checkers = db.collection(\"checkers\");\n        const votes = db.collection(\"votes\");\n        // For now, hardcode the checker ID - you'll want to get this from session/auth later\n        const checkerId = \"665eaaaa0000000000000001\";\n        // Get the checker's vote history\n        const checker = await checkers.findOne({\n            _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(checkerId)\n        });\n        if (!checker) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Checker not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Get all votes\n        const allVotes = await votes.find({}).toArray();\n        // Create a map of voted items for quick lookup\n        const votedMap = new Map();\n        checker.voteHistory?.forEach((vote)=>{\n            votedMap.set(vote.voteId.toString(), vote);\n        });\n        // Transform votes into the format needed for My Votes page\n        const myVotes = allVotes.map((vote)=>{\n            const myVoteData = votedMap.get(vote._id.toString());\n            return {\n                id: vote._id.toString(),\n                content: vote.content,\n                category: vote.category,\n                status: myVoteData ? \"voted\" : \"pending\",\n                myVote: myVoteData?.myVote || null,\n                aiRating: myVoteData?.aiRating || null,\n                timestamp: vote.timestamp,\n                finalResult: vote.finalResult,\n                votedAt: myVoteData?.votedAt || null\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(myVotes);\n    } catch (error) {\n        console.error(\"Error fetching votes:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch votes\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92b3Rlcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDZCQUE2QjtBQUMyQjtBQUNyQjtBQUNTO0FBRXJDLGVBQWVHLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNQyxLQUFLLE1BQU1ILHlEQUFXQTtRQUM1QixNQUFNSSxXQUFXRCxHQUFHRSxVQUFVLENBQUM7UUFDL0IsTUFBTUMsUUFBUUgsR0FBR0UsVUFBVSxDQUFDO1FBRTVCLHFGQUFxRjtRQUNyRixNQUFNRSxZQUFZO1FBRWxCLGlDQUFpQztRQUNqQyxNQUFNQyxVQUFVLE1BQU1KLFNBQVNLLE9BQU8sQ0FBQztZQUFFQyxLQUFLLElBQUlYLDZDQUFRQSxDQUFDUTtRQUFXO1FBQ3RFLElBQUksQ0FBQ0MsU0FBUztZQUNaLE9BQU9WLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBb0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3pFO1FBRUEsZ0JBQWdCO1FBQ2hCLE1BQU1DLFdBQVcsTUFBTVIsTUFBTVMsSUFBSSxDQUFDLENBQUMsR0FBR0MsT0FBTztRQUU3QywrQ0FBK0M7UUFDL0MsTUFBTUMsV0FBVyxJQUFJQztRQUNyQlYsUUFBUVcsV0FBVyxFQUFFQyxRQUFRLENBQUNDO1lBQzVCSixTQUFTSyxHQUFHLENBQUNELEtBQUtFLE1BQU0sQ0FBQ0MsUUFBUSxJQUFJSDtRQUN2QztRQUVBLDJEQUEyRDtRQUMzRCxNQUFNSSxVQUFVWCxTQUFTWSxHQUFHLENBQUMsQ0FBQ0w7WUFDNUIsTUFBTU0sYUFBYVYsU0FBU1csR0FBRyxDQUFDUCxLQUFLWCxHQUFHLENBQUNjLFFBQVE7WUFFakQsT0FBTztnQkFDTEssSUFBSVIsS0FBS1gsR0FBRyxDQUFDYyxRQUFRO2dCQUNyQk0sU0FBU1QsS0FBS1MsT0FBTztnQkFDckJDLFVBQVVWLEtBQUtVLFFBQVE7Z0JBQ3ZCbEIsUUFBUWMsYUFBYSxVQUFVO2dCQUMvQkssUUFBUUwsWUFBWUssVUFBVTtnQkFDOUJDLFVBQVVOLFlBQVlNLFlBQVk7Z0JBQ2xDQyxXQUFXYixLQUFLYSxTQUFTO2dCQUN6QkMsYUFBYWQsS0FBS2MsV0FBVztnQkFDN0JDLFNBQVNULFlBQVlTLFdBQVc7WUFDbEM7UUFDRjtRQUVBLE9BQU90QyxxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDYztJQUMzQixFQUFFLE9BQU9iLE9BQU87UUFDZHlCLFFBQVF6QixLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPZCxxREFBWUEsQ0FBQ2EsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQXdCLEdBQ2pDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml0ZV9yZWFjdF9zaGFkY25fdHMvLi9zcmMvYXBwL2FwaS92b3Rlcy9yb3V0ZS50cz9mYTdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcHAvYXBpL3ZvdGVzL3JvdXRlLnRzXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tIFwibW9uZ29kYlwiO1xyXG5pbXBvcnQgeyBjb25uZWN0VG9EQiB9IGZyb20gXCJAL2xpYi9tb25nb2RiXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgY29ubmVjdFRvREIoKTtcclxuICAgIGNvbnN0IGNoZWNrZXJzID0gZGIuY29sbGVjdGlvbihcImNoZWNrZXJzXCIpO1xyXG4gICAgY29uc3Qgdm90ZXMgPSBkYi5jb2xsZWN0aW9uKFwidm90ZXNcIik7XHJcblxyXG4gICAgLy8gRm9yIG5vdywgaGFyZGNvZGUgdGhlIGNoZWNrZXIgSUQgLSB5b3UnbGwgd2FudCB0byBnZXQgdGhpcyBmcm9tIHNlc3Npb24vYXV0aCBsYXRlclxyXG4gICAgY29uc3QgY2hlY2tlcklkID0gXCI2NjVlYWFhYTAwMDAwMDAwMDAwMDAwMDFcIjtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGNoZWNrZXIncyB2b3RlIGhpc3RvcnlcclxuICAgIGNvbnN0IGNoZWNrZXIgPSBhd2FpdCBjaGVja2Vycy5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoY2hlY2tlcklkKSB9KTtcclxuICAgIGlmICghY2hlY2tlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJDaGVja2VyIG5vdCBmb3VuZFwiIH0sIHsgc3RhdHVzOiA0MDQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IGFsbCB2b3Rlc1xyXG4gICAgY29uc3QgYWxsVm90ZXMgPSBhd2FpdCB2b3Rlcy5maW5kKHt9KS50b0FycmF5KCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgbWFwIG9mIHZvdGVkIGl0ZW1zIGZvciBxdWljayBsb29rdXBcclxuICAgIGNvbnN0IHZvdGVkTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgY2hlY2tlci52b3RlSGlzdG9yeT8uZm9yRWFjaCgodm90ZSkgPT4ge1xyXG4gICAgICB2b3RlZE1hcC5zZXQodm90ZS52b3RlSWQudG9TdHJpbmcoKSwgdm90ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUcmFuc2Zvcm0gdm90ZXMgaW50byB0aGUgZm9ybWF0IG5lZWRlZCBmb3IgTXkgVm90ZXMgcGFnZVxyXG4gICAgY29uc3QgbXlWb3RlcyA9IGFsbFZvdGVzLm1hcCgodm90ZSkgPT4ge1xyXG4gICAgICBjb25zdCBteVZvdGVEYXRhID0gdm90ZWRNYXAuZ2V0KHZvdGUuX2lkLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogdm90ZS5faWQudG9TdHJpbmcoKSxcclxuICAgICAgICBjb250ZW50OiB2b3RlLmNvbnRlbnQsXHJcbiAgICAgICAgY2F0ZWdvcnk6IHZvdGUuY2F0ZWdvcnksXHJcbiAgICAgICAgc3RhdHVzOiBteVZvdGVEYXRhID8gXCJ2b3RlZFwiIDogXCJwZW5kaW5nXCIsXHJcbiAgICAgICAgbXlWb3RlOiBteVZvdGVEYXRhPy5teVZvdGUgfHwgbnVsbCxcclxuICAgICAgICBhaVJhdGluZzogbXlWb3RlRGF0YT8uYWlSYXRpbmcgfHwgbnVsbCxcclxuICAgICAgICB0aW1lc3RhbXA6IHZvdGUudGltZXN0YW1wLFxyXG4gICAgICAgIGZpbmFsUmVzdWx0OiB2b3RlLmZpbmFsUmVzdWx0LFxyXG4gICAgICAgIHZvdGVkQXQ6IG15Vm90ZURhdGE/LnZvdGVkQXQgfHwgbnVsbCxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihteVZvdGVzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHZvdGVzOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIHZvdGVzXCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiT2JqZWN0SWQiLCJjb25uZWN0VG9EQiIsIkdFVCIsInJlcXVlc3QiLCJkYiIsImNoZWNrZXJzIiwiY29sbGVjdGlvbiIsInZvdGVzIiwiY2hlY2tlcklkIiwiY2hlY2tlciIsImZpbmRPbmUiLCJfaWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJhbGxWb3RlcyIsImZpbmQiLCJ0b0FycmF5Iiwidm90ZWRNYXAiLCJNYXAiLCJ2b3RlSGlzdG9yeSIsImZvckVhY2giLCJ2b3RlIiwic2V0Iiwidm90ZUlkIiwidG9TdHJpbmciLCJteVZvdGVzIiwibWFwIiwibXlWb3RlRGF0YSIsImdldCIsImlkIiwiY29udGVudCIsImNhdGVnb3J5IiwibXlWb3RlIiwiYWlSYXRpbmciLCJ0aW1lc3RhbXAiLCJmaW5hbFJlc3VsdCIsInZvdGVkQXQiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/votes/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDB: () => (/* binding */ connectToDB)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n// lib/mongodb.ts\n\nconst uri = process.env.MONGODB_URI || \"mongodb://localhost:27017\";\nconst dbName = \"checkmate\";\nlet cachedClient = null;\nlet cachedDb = null;\nasync function connectToDB() {\n    if (cachedDb) return cachedDb;\n    const client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri);\n    await client.connect();\n    cachedClient = client;\n    cachedDb = client.db(dbName);\n    return cachedDb;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsaUJBQWlCO0FBQ3lCO0FBRTFDLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVyxJQUFJO0FBQ3ZDLE1BQU1DLFNBQVM7QUFFZixJQUFJQyxlQUFtQztBQUN2QyxJQUFJQyxXQUFzQjtBQUVuQixlQUFlQztJQUNwQixJQUFJRCxVQUFVLE9BQU9BO0lBRXJCLE1BQU1FLFNBQVMsSUFBSVQsZ0RBQVdBLENBQUNDO0lBQy9CLE1BQU1RLE9BQU9DLE9BQU87SUFFcEJKLGVBQWVHO0lBQ2ZGLFdBQVdFLE9BQU9FLEVBQUUsQ0FBQ047SUFFckIsT0FBT0U7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpdGVfcmVhY3Rfc2hhZGNuX3RzLy4vc3JjL2xpYi9tb25nb2RiLnRzPzUzYzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL21vbmdvZGIudHNcclxuaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiIH0gZnJvbSBcIm1vbmdvZGJcIjtcclxuXHJcbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxN1wiO1xyXG5jb25zdCBkYk5hbWUgPSBcImNoZWNrbWF0ZVwiO1xyXG5cclxubGV0IGNhY2hlZENsaWVudDogTW9uZ29DbGllbnQgfCBudWxsID0gbnVsbDtcclxubGV0IGNhY2hlZERiOiBEYiB8IG51bGwgPSBudWxsO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RCKCk6IFByb21pc2U8RGI+IHtcclxuICBpZiAoY2FjaGVkRGIpIHJldHVybiBjYWNoZWREYjtcclxuXHJcbiAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSk7XHJcbiAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcclxuXHJcbiAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xyXG4gIGNhY2hlZERiID0gY2xpZW50LmRiKGRiTmFtZSk7XHJcblxyXG4gIHJldHVybiBjYWNoZWREYjtcclxufVxyXG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJkYk5hbWUiLCJjYWNoZWRDbGllbnQiLCJjYWNoZWREYiIsImNvbm5lY3RUb0RCIiwiY2xpZW50IiwiY29ubmVjdCIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CLocalCodes%5CCheckmate%5Ccheckers-webapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();